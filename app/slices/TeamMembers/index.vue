<script setup lang="ts">
import type { Content } from '@prismicio/client'

const props = defineProps(getSliceComponentProps<Content.TeamMembersSlice>())

const items = computed(() => [...props.slice.items].sort(() => Math.random() - 0.5))
</script>

<template>
  <section bg-neutral-0>
    <ul columns="1 sm:2 lg:3" gap-0 style="column-rule: 2px solid rgb(var(--nq-neutral-400))">
      <li v-for="({ picture, fullName, role, github, linkedin, twitter, description }, i) in items" :key="i" break-inside-avoid-column border="b-2 solid neutral-400">
        <div v-if="hasImage(picture)" px-32 pt-32>
          <PrismicImage :field="picture" w-full rounded-6 object-cover />
        </div>
        <svg v-else xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20" nq-mt-16 mx-auto w-156>
          <mask id="a" fill="#fff">
            <path d="M5.122 13.14A10.623 10.623 0 0 0 .72 14.987 1.835 1.835 0 0 0 0 16.46v2.314a.372.372 0 0 0 .372.373h16.39a.373.373 0 0 0 .371-.373V16.46a1.836 1.836 0 0 0-.72-1.472 10.623 10.623 0 0 0-4.402-1.849.367.367 0 0 0-.356.13c-.086.103-.907 2.152-3.088 2.152-2.116 0-3.023-2.075-3.088-2.152a.374.374 0 0 0-.357-.13Z" />
            <path d="M10.492 12.443a5.22 5.22 0 0 0 3.29-4.843V6.11a5.214 5.214 0 1 0-10.428 0V7.6a5.206 5.206 0 0 0 7.138 4.843ZM4.842 7.6V6.295a.186.186 0 0 1 .186-.186h.56c.957 0 2.896.236 4.334-1.332a.185.185 0 0 1 .274 0 3.94 3.94 0 0 0 1.978 1.174.162.162 0 0 1 .122.156V7.6a3.726 3.726 0 0 1-7.452 0h-.002Z" />
          </mask>
          <path fill="currentColor" d="M5.122 13.14A10.623 10.623 0 0 0 .72 14.987 1.835 1.835 0 0 0 0 16.46v2.314a.372.372 0 0 0 .372.373h16.39a.373.373 0 0 0 .371-.373V16.46a1.836 1.836 0 0 0-.72-1.472 10.623 10.623 0 0 0-4.402-1.849.367.367 0 0 0-.356.13c-.086.103-.907 2.152-3.088 2.152-2.116 0-3.023-2.075-3.088-2.152a.374.374 0 0 0-.357-.13Z" />
          <path fill="currentColor" d="M10.492 12.443a5.22 5.22 0 0 0 3.29-4.843V6.11a5.214 5.214 0 1 0-10.428 0V7.6a5.206 5.206 0 0 0 7.138 4.843ZM4.842 7.6V6.295a.186.186 0 0 1 .186-.186h.56c.957 0 2.896.236 4.334-1.332a.185.185 0 0 1 .274 0 3.94 3.94 0 0 0 1.978 1.174.162.162 0 0 1 .122.156V7.6a3.726 3.726 0 0 1-7.452 0h-.002Z" />
          <path fill="currentColor" d="m5.122 13.14.34 1.973.014-.003.013-.002-.367-1.969ZM.72 14.987l-1.17-1.625-.024.017-.022.017L.72 14.988Zm-.533.651 1.799.88-1.8-.88ZM0 16.46h2.003v-.016L0 16.46Zm0 2.314 2.003.004v-.004H0Zm.028.143-1.851.763 1.851-.763Zm.08.12 1.418-1.414L.11 19.038Zm.121.082.768-1.85-.768 1.85Zm.143.028v-2.003 2.003Zm16.39 0v-2.003 2.003Zm.142-.028-.768-1.85.768 1.85Zm.12-.081 1.418 1.414-1.418-1.414Zm.081-.121 1.851.763-1.851-.763Zm.028-.143H15.13v.004l2.003-.004Zm0-2.314-2.002-.016v.016h2.002Zm-.186-.82-1.8.88 1.8-.88Zm-.534-.652 1.216-1.59-.022-.018-.024-.017-1.17 1.625Zm-4.402-1.849-.385 1.966.022.004.023.004.34-1.974Zm-.196.016-.686-1.882.686 1.882Zm-.16.114 1.535 1.286.013-.015.011-.014-1.56-1.257Zm-6.176 0-1.542 1.278.004.004 1.538-1.282Zm-.161-.114.681-1.883-.681 1.883Zm5.174-.712-.74-1.861-.003.001.743 1.86Zm2.388-1.917-1.656-1.125 1.656 1.125Zm.903-2.926 2.002.003V7.6h-2.002ZM8.568.896v-2.003V.896ZM3.354 7.6l2.002.003V7.6H3.354Zm4.645 5.184-.215 1.991.215-1.99ZM4.842 7.6H2.839v2.003h2.003V7.6Zm.014-1.376-1.85-.766 1.85.766Zm5.066-1.447 1.476 1.353.01-.01-1.486-1.343Zm.062-.045.813 1.83-.813-1.83Zm.075-.016.011-2.003h-.013l.002 2.003Zm.075.016.81-1.832-.81 1.832Zm.062.045 1.481-1.349-.008-.008-1.473 1.357Zm1.978 1.174.495-1.94-.01-.003-.01-.003-.475 1.946Zm.087.057-1.575 1.237 1.575-1.237Zm.035.099h2.003v-.022l-2.003.022Zm-6.361 4.128-1.416 1.416 1.416-1.416ZM4.844 7.6h2.002V5.598H4.844V7.6Zm-.063 3.566A12.628 12.628 0 0 0-.45 13.363l2.34 3.25a8.62 8.62 0 0 1 3.573-1.5l-.682-3.947Zm-5.277 2.231a3.837 3.837 0 0 0-1.116 1.362l3.598 1.76a.168.168 0 0 1-.05.06l-2.432-3.182Zm-1.116 1.362a3.837 3.837 0 0 0-.39 1.717l4.005-.032a.168.168 0 0 1-.017.075l-3.598-1.76Zm-.39 1.701v2.314h4.005V16.46h-4.006Zm0 2.31c-.001.312.06.622.179.91l3.702-1.527c.082.199.124.41.124.625l-4.006-.008Zm.179.91c.119.289.294.551.514.772l2.835-2.829c.152.152.272.332.353.53l-3.702 1.527Zm.514.772c.22.221.483.397.771.516l1.535-3.7c.198.083.378.203.53.355l-2.836 2.83Zm.771.516c.289.12.598.181.91.181v-4.005c.214 0 .427.043.625.125l-1.535 3.7Zm.91.181h16.39v-4.005H.371v4.006Zm16.39 0c.311 0 .62-.061.909-.18l-1.535-3.7c.198-.082.41-.125.625-.125v4.006Zm.909-.18c.288-.12.55-.296.77-.517l-2.834-2.829c.151-.152.331-.272.53-.354l1.534 3.7Zm.77-.517c.222-.22.396-.483.515-.772l-3.702-1.527a1.63 1.63 0 0 1 .353-.53l2.835 2.83Zm.515-.772c.12-.288.18-.598.18-.91l-4.006.008c0-.214.042-.426.124-.625l3.702 1.527Zm.18-.906V16.46H15.13v2.314h4.006Zm0-2.298a3.838 3.838 0 0 0-.39-1.717l-3.598 1.76a.168.168 0 0 1-.018-.075l4.006.032Zm-.39-1.717c-.262-.534-.644-1-1.116-1.362l-2.434 3.182a.169.169 0 0 1-.048-.06l3.597-1.76Zm-1.163-1.396a12.628 12.628 0 0 0-5.23-2.197l-.682 3.947a8.62 8.62 0 0 1 3.571 1.5l2.341-3.25Zm-5.187-2.189a2.371 2.371 0 0 0-1.267.1l1.372 3.762a1.64 1.64 0 0 1-.875.069l.77-3.931Zm-1.267.1a2.37 2.37 0 0 0-1.034.74l3.12 2.512a1.635 1.635 0 0 1-.714.51l-1.372-3.763Zm-1.01.71c-.109.13-.179.249-.19.269a2.72 2.72 0 0 0-.057.098l-.054.102a3.778 3.778 0 0 1-.095.17 2.354 2.354 0 0 1-.292.396c-.227.243-.48.399-.864.399v4.005c1.797 0 3.045-.868 3.796-1.675a6.33 6.33 0 0 0 .8-1.074c.086-.145.152-.267.193-.344l.024-.046.008-.014a.716.716 0 0 1-.007.012l-.02.034c-.004.006-.067.115-.17.239l-3.072-2.571Zm-1.552 1.434c-.333 0-.597-.144-.858-.42a2.605 2.605 0 0 1-.409-.576l-.02-.037-.025-.045a2.205 2.205 0 0 0-.238-.353L3.942 14.55a1.954 1.954 0 0 1-.176-.248l-.018-.032.04.074a6.613 6.613 0 0 0 1.011 1.404c.738.781 1.985 1.674 3.769 1.674v-4.005ZM7.02 11.991a2.378 2.378 0 0 0-1.022-.719L4.637 15.04a1.628 1.628 0 0 1-.7-.492l3.084-2.556Zm-1.022-.719a2.376 2.376 0 0 0-1.245-.101l.735 3.937c-.285.053-.58.03-.852-.07l1.362-3.766Zm5.233 3.032a7.224 7.224 0 0 0 3.305-2.652L11.224 9.4a3.218 3.218 0 0 1-1.472 1.181l1.48 3.722Zm3.305-2.652a7.222 7.222 0 0 0 1.248-4.049l-4.005-.006c0 .644-.195 1.272-.556 1.804l3.313 2.25ZM15.785 7.6V6.11H11.78V7.6h4.005Zm0-1.49c0-1.914-.76-3.75-2.114-5.103L10.84 3.84c.603.603.941 1.42.941 2.271h4.005Zm-2.114-5.103a7.217 7.217 0 0 0-5.103-2.114V2.9c.852 0 1.669.338 2.271.94l2.832-2.832ZM8.568-1.107c-1.914 0-3.75.76-5.103 2.114L6.297 3.84a3.212 3.212 0 0 1 2.271-.94v-4.006ZM3.465 1.007A7.217 7.217 0 0 0 1.351 6.11h4.005c0-.851.339-1.668.941-2.27L3.465 1.006ZM1.351 6.11V7.6h4.005V6.11H1.351Zm0 1.487a7.209 7.209 0 0 0 .837 3.382l3.54-1.873a3.204 3.204 0 0 1-.372-1.503l-4.005-.006Zm.837 3.382a7.209 7.209 0 0 0 2.325 2.595l2.248-3.314a3.204 3.204 0 0 1-1.033-1.154l-3.54 1.873Zm2.325 2.595a7.208 7.208 0 0 0 3.27 1.201l.432-3.982a3.203 3.203 0 0 1-1.454-.533l-2.248 3.314Zm3.27 1.201a7.208 7.208 0 0 0 3.452-.473L9.75 10.583a3.204 3.204 0 0 1-1.534.21l-.431 3.982ZM6.846 7.6V6.295H2.839V7.6h4.006Zm0-1.305a1.8 1.8 0 0 1-.139.695l-3.7-1.532c-.11.265-.167.55-.167.837h4.006Zm-.139.695c-.09.22-.225.42-.393.59L3.48 4.747a2.189 2.189 0 0 0-.475.71l3.7 1.533Zm-.393.59a1.816 1.816 0 0 1-.59.393l-1.532-3.7c-.266.11-.507.271-.71.474L6.313 7.58Zm-.59.393a1.8 1.8 0 0 1-.695.139V4.106c-.287 0-.572.057-.837.167l1.532 3.7Zm-.695.139h.56V4.106h-.56v4.006Zm.56 0c.629 0 3.651.372 5.81-1.982L8.446 3.423c-.718.782-1.573.683-2.859.683v4.006Zm5.82-1.992a1.838 1.838 0 0 1-.61.442L9.17 2.902c-.28.124-.53.305-.734.531l2.97 2.687Zm-.61.442a1.818 1.818 0 0 1-.738.156l-.003-4.005c-.306 0-.607.065-.887.189l1.627 3.66Zm-.75.156a1.814 1.814 0 0 1-.724-.154l1.62-3.664a2.19 2.19 0 0 0-.874-.187l-.023 4.005Zm-.724-.154a1.814 1.814 0 0 1-.6-.43L11.67 3.42a2.191 2.191 0 0 0-.726-.52L9.325 6.564Zm-.608-.439a5.942 5.942 0 0 0 2.982 1.771l.951-3.89a1.936 1.936 0 0 1-.972-.578L8.716 6.125Zm2.962 1.766a1.84 1.84 0 0 1-.992-.646l3.15-2.474a2.165 2.165 0 0 0-1.167-.76l-.991 3.88Zm-.992-.646a1.84 1.84 0 0 1-.393-1.116l4.006-.044a2.166 2.166 0 0 0-.463-1.314l-3.15 2.474Zm-.393-1.138V7.6H14.3V6.107h-4.006Zm0 1.493c0 .457-.181.896-.504 1.219l2.832 2.832a5.729 5.729 0 0 0 1.678-4.05h-4.006ZM9.79 8.82a1.724 1.724 0 0 1-1.22.505v4.005c1.52 0 2.977-.604 4.052-1.678L9.789 8.82Zm-1.22.505c-.456 0-.895-.182-1.218-.505L4.52 11.652a5.729 5.729 0 0 0 4.05 1.678V9.324ZM7.352 8.82a1.724 1.724 0 0 1-.506-1.22H2.841c0 1.52.603 2.977 1.678 4.051L7.35 8.82ZM4.844 5.598h-.002v4.005h.002V5.598Z" mask="url(#a)" />
        </svg>
        <div px-48 pb-48>
          <h3 nq-mt-32 text-primary>
            {{ fullName }}
          </h3>
          <div v-if="role" nq-mt-12 flex="~ col">
            <span v-for="(r, j) in role.split(',').map((role) => role.trim())" :key="r" font-semibold>
              {{ r }}{{ role.split(',').length - 1 === j ? '' : ',' }}
            </span>
          </div>
          <PrismicRichText nq-mt-24 :field="description" class="nq-prose-compact" />
          <ul v-if="linkedin || github || twitter" flex="~ gap-x-4" nq-mt-16 relative left--8 text-neutral-100>
            <li v-if="github">
              <NuxtLink external :to="`https://github.com/${github}`" title="Github" h-max flex rounded-4 p-8 bg="hocus:neutral/6" aria-label="Github link">
                <div i-nimiq:logos-github />
              </NuxtLink>
            </li>
            <li v-if="twitter">
              <NuxtLink external :to="`https://twitter.com/${twitter}`" title="Twitter" h-max flex rounded-4 p-8 bg="hocus:neutral/6" aria-label="Twitter link">
                <div i-nimiq:logos-twitter />
              </NuxtLink>
            </li>
            <li v-if="linkedin">
              <NuxtLink external :to="`https://www.linkedin.com/in/${linkedin}`" title="Linkedin" h-max flex rounded-4 p-8 bg="hocus:neutral/6" aria-label="Linkedin link">
                <div i-logos:linkedin-icon />
              </NuxtLink>
            </li>
          </ul>
        </div>
      </li>
    </ul>
  </section>
</template>
