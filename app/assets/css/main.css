/* Accessibility: Global reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Prevent horizontal overflow from decorative elements */
/* Use clip instead of hidden to avoid breaking position:sticky (hidden creates a scroll container) */
html,
body {
  overflow-x: clip;
}

/* Accessibility: Focus visible styles */
:focus-visible {
  outline: 2px solid var(--color-blue);
  outline-offset: 2px;
}

/* Accessibility: Skip link */
.skip-link {
  position: absolute;
  top: -100%;
  left: 16px;
  padding: 8px 16px;
  background: var(--color-blue);
  color: white;
  border-radius: 4px;
  z-index: 9999;
  text-decoration: none;
  font-weight: 600;
}

.skip-link:focus {
  top: 16px;
}

/* Fix nq-pill-tertiary - nimiq-css has invalid outline syntax and gradient override issue */
.nq-pill-tertiary,
[nq-pill-tertiary] {
  background-image: none !important;
  background: var(--color-neutral-0) !important;
  color: var(--color-neutral) !important;
  outline: 1.5px solid var(--color-neutral-500) !important;
}
.nq-pill-tertiary:hover,
[nq-pill-tertiary]:hover {
  background: var(--color-neutral-50) !important;
  outline-color: var(--color-neutral-600) !important;
}

/* ==========================================================================
   Static Content Styling
   Section spacing, heading hierarchy, and content layout
   ========================================================================== */

:root {
  /* Viewport widths for fluid spacing */
  --f-space-width-min: 320;
  --f-space-width-max: 1440;
  --f-text-min-container: 320;
  --f-text-max-container: 1920;
  --f-text-unit: 1px;
  --f-text-container: 100vw;
  --f-mt-min-container: 320;
  --f-mt-max-container: 1920;
  --f-mt-unit: 1px;
  --f-mt-container: 100vw;

  /* Nimiq color RGB values for use with rgb(var(--nq-*)) syntax */
  --nq-green: 33, 188, 165;
  --nq-neutral-0: 255, 255, 255;
  --nq-neutral-100: 247, 247, 249;
}

/* Fluid horizontal padding utility (matches f-px-sm in prod) */
body:not(.nq-raw) :where(.f-px-sm, [f-px-sm]) {
  --f-space-width-range: calc(var(--f-space-width-max) - var(--f-space-width-min));
  --f-space-scale-factor: calc((100vw - (1px * var(--f-space-width-min))) / var(--f-space-width-range));
  --f-px-min: 16;
  --f-px-max: 24;
  --f-px-range: calc(var(--f-px-max) - var(--f-px-min));
  --f-px-fluid: calc(1px * var(--f-px-min) + var(--f-px-range) * var(--f-space-scale-factor));
  --f-px: clamp(calc(1px * var(--f-px-min)), var(--f-px-fluid), calc(var(--f-px-max) * 1px));
  padding-left: var(--f-px);
  padding-right: var(--f-px);
}

/* Fluid text size utilities (match nimiq.com f-* scale) */
:where(.text-f-2xs, .f-text-2xs, [text~='f-2xs']) {
  --f-text-min: 10;
  --f-text-max: 12;
}
:where(.text-f-xs, .f-text-xs, [text~='f-xs']) {
  --f-text-min: 12;
  --f-text-max: 14;
}
:where(.text-f-sm, .f-text-sm, [text~='f-sm']) {
  --f-text-min: 14;
  --f-text-max: 16;
}
:where(.text-f-md, .f-text-md, [text~='f-md']) {
  --f-text-min: 16;
  --f-text-max: 16;
}
:where(.text-f-lg, .f-text-lg, [text~='f-lg']) {
  --f-text-min: 16;
  --f-text-max: 18;
}
:where(.text-f-xl, .f-text-xl, [text~='f-xl']) {
  --f-text-min: 18;
  --f-text-max: 22;
}
:where(.text-f-2xl, .f-text-2xl, [text~='f-2xl']) {
  --f-text-min: 22;
  --f-text-max: 26;
}
:where(.text-f-3xl, .f-text-3xl, [text~='f-3xl']) {
  --f-text-min: 26;
  --f-text-max: 32;
}
:where(.text-f-4xl, .f-text-4xl, [text~='f-4xl']) {
  --f-text-min: 32;
  --f-text-max: 44;
}

:where(
  .text-f-2xs,
  .text-f-xs,
  .text-f-sm,
  .text-f-md,
  .text-f-lg,
  .text-f-xl,
  .text-f-2xl,
  .text-f-3xl,
  .text-f-4xl,
  .f-text-2xs,
  .f-text-xs,
  .f-text-sm,
  .f-text-md,
  .f-text-lg,
  .f-text-xl,
  .f-text-2xl,
  .f-text-3xl,
  .f-text-4xl,
  [text~='f-2xs'],
  [text~='f-xs'],
  [text~='f-sm'],
  [text~='f-md'],
  [text~='f-lg'],
  [text~='f-xl'],
  [text~='f-2xl'],
  [text~='f-3xl'],
  [text~='f-4xl']
) {
  font-size: clamp(
    calc(var(--f-text-unit, 1px) * var(--f-text-min, 16)),
    calc(
      calc(var(--f-text-unit, 1px) * var(--f-text-min, 16)) + (var(--f-text-max, 16) - var(--f-text-min, 16)) *
        (var(--f-text-container, 100vw) - (var(--f-text-unit, 1px) * var(--f-text-min-container, 320))) /
        (var(--f-text-max-container, 1920) - var(--f-text-min-container, 320))
    ),
    calc(var(--f-text-unit, 1px) * var(--f-text-max, 16))
  );
}

/* Fluid margin-top utilities */
:where(.f-mt-2xs, [f-mt-2xs]) {
  --f-mt-min: 8;
  --f-mt-max: 12;
}
:where(.f-mt-xs, [f-mt-xs]) {
  --f-mt-min: 12;
  --f-mt-max: 16;
}
:where(.f-mt-sm, [f-mt-sm]) {
  --f-mt-min: 16;
  --f-mt-max: 24;
}
:where(.f-mt-md, [f-mt-md]) {
  --f-mt-min: 24;
  --f-mt-max: 32;
}
:where(.f-mt-lg, [f-mt-lg]) {
  --f-mt-min: 32;
  --f-mt-max: 48;
}
:where(.f-mt-xl, [f-mt-xl]) {
  --f-mt-min: 48;
  --f-mt-max: 72;
}
:where(.f-mt-2xl, [f-mt-2xl]) {
  --f-mt-min: 72;
  --f-mt-max: 96;
}

:where(
  .f-mt-2xs,
  .f-mt-xs,
  .f-mt-sm,
  .f-mt-md,
  .f-mt-lg,
  .f-mt-xl,
  .f-mt-2xl,
  [f-mt-2xs],
  [f-mt-xs],
  [f-mt-sm],
  [f-mt-md],
  [f-mt-lg],
  [f-mt-xl],
  [f-mt-2xl]
) {
  margin-top: clamp(
    calc(var(--f-mt-unit, 1px) * var(--f-mt-min, 16)),
    calc(
      calc(var(--f-mt-unit, 1px) * var(--f-mt-min, 16)) + (var(--f-mt-max, 16) - var(--f-mt-min, 16)) *
        (var(--f-mt-container, 100vw) - (var(--f-mt-unit, 1px) * var(--f-mt-min-container, 320))) /
        (var(--f-mt-max-container, 1920) - var(--f-mt-min-container, 320))
    ),
    calc(var(--f-mt-unit, 1px) * var(--f-mt-max, 16))
  ) !important;
}

:where(.size-\[0\.4em\]) {
  width: 0.4em;
  height: 0.4em;
}

.size-7 {
  width: 1.75rem;
  height: 1.75rem;
}

.size-10 {
  width: 2.5rem;
  height: 2.5rem;
}

.size-\[18px\] {
  width: 18px;
  height: 18px;
}

.text-\[18px\] {
  font-size: 18px;
}

.pill-label {
  font-size: 18px !important;
  line-height: 18px !important;
}

@media (min-width: 1024px) {
  .lg\:size-10 {
    width: 2.5rem;
    height: 2.5rem;
  }

  .lg\:size-\[30px\] {
    width: 30px;
    height: 30px;
  }
}

.staking-note {
  font-size: clamp(12.13px, calc(12.13px + (14 - 12.13) * ((100vw - 375px) / 905)), 14px);
  line-height: 1.2;
}

.tech-headline {
  letter-spacing: normal;
}

@media (min-width: 1024px) {
  .tech-headline {
    letter-spacing: -0.6px;
  }
}

.staking-pt {
  --pt: 140px !important;
}

@media (min-width: 768px) {
  .staking-pt {
    --pt: 152px !important;
  }
}

.apps-cards-pb {
  --pb: 20px !important;
}

@media (min-width: 768px) {
  .apps-cards-pb {
    --pb: 22px !important;
  }
}

/* Banner card shadow/outline (matches production) */
.nq-banner-card {
  background: var(--color-neutral-0);
  border-radius: 8px;
  outline: 1px solid color-mix(in oklch, var(--color-neutral) 10%, transparent);
  outline-offset: -1px;
  box-shadow:
    0 18px 38px 0 rgba(31, 35, 72, 0.07),
    0 7px 8.5px 0 rgba(31, 35, 72, 0.04),
    0 2px 2.5px 0 rgba(31, 35, 72, 0.02);
}

/* Base body styles for static content */
body:not(.nq-raw) {
  background-color: var(--color-neutral-100);
  --nq-max-width: 73rem;
}

body:not(.nq-raw):not(
    :where(.nq-no-color, [nq-no-color], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact])
  ) {
  color: var(--color-neutral-800);
}

/* ==========================================================================
   Heading Hierarchy
   Fluid typography for h1-h4 with responsive sizing
   ========================================================================== */

body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ) {
  --f-space-width-range: calc(var(--f-space-width-max) - var(--f-space-width-min));
  --f-space-scale-factor: calc((100vw - (1px * var(--f-space-width-min))) / var(--f-space-width-range));
  --f-font-size-range: calc(var(--font-size-max) - var(--font-size-min));
  --f-font-size-fluid: calc(1px * var(--font-size-min) + var(--f-font-size-range) * var(--f-space-scale-factor));
  --f-font-size: clamp(calc(1px * var(--font-size-min)), var(--f-font-size-fluid), calc(var(--font-size-max) * 1px));
}

/* h1 styles */
body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ):where(h1) {
  font-weight: 700;
  max-width: 26ch;
  text-align: left;
  margin: 0;
  line-height: 1.3;
  text-wrap: balance;
  --font-size-min: 40;
  --font-size-max: 48;
  color: var(--color-neutral);
  font-size: var(--f-font-size);
}

body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ):where(h1).text-white {
  color: var(--color-white);
}

body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ):where(h1):where(.nq-heading, [nq-heading]) {
  --font-size-min: 36;
  --font-size-max: 44;
}

body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ):where(h1):where(.nq-heading-lg, [nq-heading-lg]) {
  --font-size-min: 36;
  --font-size-max: 64;
}

@media screen and (min-width: 768px) {
  body:not(.nq-raw)
    :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
      :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
    ):where(h1) {
    text-align: center;
  }
}

/* h1 + p styles */
body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ):where(h1)
  + p {
  margin-top: 24px;
  max-width: 42ch;
  line-height: 1.5;
  text-wrap: pretty;
  --font-size-min: 18;
  --font-size-max: 20.8;
  color: var(--color-neutral-700);
  font-size: var(--f-font-size);
}

body:not(.nq-raw) section.about-hero h1 + p {
  --font-size-max: 22.33 !important;
}

body:not(.nq-raw) section.about-hero h1,
body:not(.nq-raw) section.about-hero h1 + p {
  width: 100%;
}

@media screen and (min-width: 768px) {
  body:not(.nq-raw)
    :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
      :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
    ):where(h1)
    + p {
    text-align: center;
  }
}

/* h2 styles */
body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ):where(h2) {
  font-weight: 700;
  max-width: 33ch;
  margin: 0;
  --font-size-min: 32;
  --font-size-max: 40;
  font-size: var(--f-font-size);
  line-height: 1.3;
  text-align: left;
  text-wrap: balance;
}

body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ):where(h2):where(.nq-heading, [nq-heading]) {
  --font-size-min: 36;
  --font-size-max: 44;
}

body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ):where(h2):not([class*='text-']) {
  color: var(--color-neutral);
}

@media screen and (min-width: 768px) {
  body:not(.nq-raw)
    :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
      :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
    ):where(h2) {
    text-align: center;
  }
}

/* h2 + p styles */
body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ):where(h2)
  + p {
  margin-top: 16px;
  color: color-mix(in oklch, var(--color-neutral-800) 85%, transparent);
  max-width: 70ch;
  line-height: 1.5;
  text-wrap: pretty;
  --font-size-min: 20;
  --font-size-max: 22;
  font-size: var(--f-font-size);
}

@media screen and (min-width: 768px) {
  body:not(.nq-raw)
    :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
      :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
    ):where(h2)
    + p {
    text-align: center;
  }
}

/* h3 styles */
body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ):where(h3):not([class*='text-']) {
  font-weight: 600;
  line-height: 1.3;
  text-wrap: balance;
  --font-size-min: 22;
  --font-size-max: 28;
  font-size: var(--f-font-size);
}

body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ):where(h3):not([class*='text-']) {
  color: var(--color-neutral);
}

/* h3 + p styles */
body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ):where(h3)
  + p:not([class*='text-']) {
  margin-top: 16px;
  line-height: 1.5;
  text-wrap: pretty;
  --font-size-min: 18;
  --font-size-max: 20;
  font-size: var(--f-font-size);
}

/* h4 styles */
body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ):where(h4) {
  font-weight: 600;
  line-height: 1.3;
  text-wrap: balance;
  --font-size-min: 22;
  --font-size-max: 26;
  font-size: var(--f-font-size);
}

body:not(.nq-raw)
  :not(:has(:is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *)):not(
    :is(.nq-raw, [nq-raw], .nq-prose, [nq-prose], .nq-prose-compact, [nq-prose-compact]) *
  ):where(h4):not([class*='text-']) {
  color: var(--color-neutral);
}

/* ==========================================================================
   Section Layout
   Fluid padding and width constraints for sections
   ========================================================================== */

body:not(.nq-raw) :where(section, [data-section]) {
  display: flex;
  flex-direction: column;
  justify-content: center;
  margin-left: auto;
  margin-right: auto;

  /* Fluid spacing variables */
  --f-space-width-range: calc(var(--f-space-width-max) - var(--f-space-width-min));
  --f-space-scale-factor: calc((100vw - (1px * var(--f-space-width-min))) / var(--f-space-width-range));

  /* Fluid padding-top */
  --f-pt-range: calc(var(--f-pt-max) - var(--f-pt-min));
  --f-pt-fluid: calc(1px * var(--f-pt-min) + var(--f-pt-range) * var(--f-space-scale-factor));
  --f-pt: clamp(calc(1px * var(--f-pt-min)), var(--f-pt-fluid), calc(var(--f-pt-max) * 1px));

  /* Fluid padding-bottom */
  --f-pb-range: calc(var(--f-pb-max) - var(--f-pb-min));
  --f-pb-fluid: calc(1px * var(--f-pb-min) + var(--f-pb-range) * var(--f-space-scale-factor));
  --f-pb: clamp(calc(1px * var(--f-pb-min)), var(--f-pb-fluid), calc(var(--f-pb-max) * 1px));

  /* Fluid padding-x */
  --f-px-range: calc(var(--f-px-max) - var(--f-px-min));
  --f-px-fluid: calc(1px * var(--f-px-min) + var(--f-px-range) * var(--f-space-scale-factor));
  --f-px: clamp(calc(1px * var(--f-px-min)), var(--f-px-fluid), calc(var(--f-px-max) * 1px));

  /* Default values */
  --f-px-min: 32;
  --f-px-max: 80;
  --f-pt-min: 160;
  --f-pt-max: 200;
  --f-pb-min: 160;
  --f-pb-max: 200;

  /* Allow override via CSS custom properties */
  --pt: var(--f-pt);
  --pb: var(--f-pb);
  --px: var(--f-px);

  /* Responsive max-width */
  --nq-max-width: calc(100vw - 4rem);

  padding: var(--pt, 0) var(--px, 0) var(--pb, 0) var(--px, 0);
}

/* Footer uses tighter section spacing on prod */
body:not(.nq-raw) footer[data-section] {
  --f-pt-min: 72;
  --f-pt-max: 96;
  --f-pb-min: 32;
  --f-pb-max: 48;
}

/* Honor dark scheme sections for light-dark() colors */
body:not(.nq-raw) :where(section, [data-section])[scheme-dark],
body:not(.nq-raw) :where(section, [data-section])[scheme-dark] * {
  color-scheme: dark;
}

@media screen and (min-width: 769px) {
  body:not(.nq-raw) :where(section, [data-section]) {
    align-items: center;
  }
}

/* Allow sections to opt into full-width children */
body:not(.nq-raw) :where(section, [data-section]).items-stretch {
  align-items: stretch;
}

/* Stack utility (UnoCSS-like) */
[stack] {
  display: grid;
}

[stack] > * {
  grid-area: 1 / 1;
}

@media (min-width: 1280px) {
  .consensus-headline {
    white-space: nowrap !important;
  }
}

@media screen and (min-width: 1152px) {
  body:not(.nq-raw) :where(section, [data-section]) {
    --nq-max-width: calc(100vw - 9rem);
  }
}

@media screen and (min-width: 1440px) {
  body:not(.nq-raw) :where(section, [data-section]) {
    --nq-max-width: 73rem;
  }
}

/* Section children max-width */
body:not(.nq-raw) :where(section, [data-section]) > * {
  max-width: var(--nq-max-width);
}

@media (max-width: 1024px) {
  body:not(.nq-raw) :where(section, [data-section])[max-lg\:children\:max-w-none] > * {
    max-width: none;
  }
}

/* Wide sections */
body:not(.nq-raw) :where(section, [data-section]):is(.nq-wide, [nq-wide]) {
  --nq-max-width: none;
  --px: 0;
  width: 100%;
  margin: 0 auto;
  align-items: center;
}

/* Last section reduced padding */
body:not(.nq-raw) :where(section, [data-section]):last-child {
  --f-pb-min: 32;
  --f-pb-max: 48;
}

/* ==========================================================================
   Staking Section Gradient
   Green gradient for staking sections with cubic easing
   ========================================================================== */

.staking-gradient,
.gradient-transparent-green {
  --gradient-length: 252px;
  background: linear-gradient(
    180deg,
    var(--color-darkerblue) 0px,
    color-mix(in oklch, var(--color-darkerblue) 97%, var(--color-green)) calc(0.14 * var(--gradient-length)),
    color-mix(in oklch, var(--color-darkerblue) 87%, var(--color-green)) calc(0.26 * var(--gradient-length)),
    color-mix(in oklch, var(--color-darkerblue) 72%, var(--color-green)) calc(0.38 * var(--gradient-length)),
    color-mix(in oklch, var(--color-darkerblue) 52%, var(--color-green)) calc(0.5 * var(--gradient-length)),
    color-mix(in oklch, var(--color-darkerblue) 30%, var(--color-green)) calc(0.62 * var(--gradient-length)),
    color-mix(in oklch, var(--color-darkerblue) 13%, var(--color-green)) calc(0.74 * var(--gradient-length)),
    color-mix(in oklch, var(--color-darkerblue) 3%, var(--color-green)) calc(0.86 * var(--gradient-length)),
    var(--color-green) var(--gradient-length),
    var(--color-green) 100%
  );
}

/* ==========================================================================
   Section Gap Rules
   Adjacent sections with same background get reduced spacing
   ========================================================================== */

/* Same background - reduced spacing */
body:not(.nq-raw)
  :where(section, [data-section]):where(.bg-darkblue, [bg-darkblue]):has(
    + :where(section, [data-section]):not(:where(.nq-section-gap, [nq-section-gap])):where(.bg-darkblue, [bg-darkblue])
  ),
body:not(.nq-raw)
  :where(section, [data-section]):where(.bg-darkerblue, [bg-darkerblue]):has(
    + :where(section, [data-section]):not(:where(.nq-section-gap, [nq-section-gap])):where(
        .bg-darkerblue,
        [bg-darkerblue]
      )
  ),
body:not(.nq-raw)
  :where(section, [data-section]):where(.bg-neutral-100, [bg-neutral-100]):has(
    + :where(section, [data-section]):not(:where(.nq-section-gap, [nq-section-gap])):where(
        .bg-neutral-100,
        [bg-neutral-100]
      )
  ),
body:not(.nq-raw)
  :where(section, [data-section]):where(.bg-neutral-0, [bg-neutral-0]):has(
    + :where(section, [data-section]):not(:where(.nq-section-gap, [nq-section-gap])):where(
        .bg-neutral-0,
        [bg-neutral-0]
      )
  ) {
  --f-pb-min: 36;
  --f-pb-max: 48;
}

body:not(.nq-raw)
  :where(section, [data-section]):where(.bg-darkblue, [bg-darkblue]):has(
    + :where(section, [data-section]):not(:where(.nq-section-gap, [nq-section-gap])):where(.bg-darkblue, [bg-darkblue])
  )
  + :where(section, [data-section]),
body:not(.nq-raw)
  :where(section, [data-section]):where(.bg-darkerblue, [bg-darkerblue]):has(
    + :where(section, [data-section]):not(:where(.nq-section-gap, [nq-section-gap])):where(
        .bg-darkerblue,
        [bg-darkerblue]
      )
  )
  + :where(section, [data-section]),
body:not(.nq-raw)
  :where(section, [data-section]):where(.bg-neutral-100, [bg-neutral-100]):has(
    + :where(section, [data-section]):not(:where(.nq-section-gap, [nq-section-gap])):where(
        .bg-neutral-100,
        [bg-neutral-100]
      )
  )
  + :where(section, [data-section]),
body:not(.nq-raw)
  :where(section, [data-section]):where(.bg-neutral-0, [bg-neutral-0]):has(
    + :where(section, [data-section]):not(:where(.nq-section-gap, [nq-section-gap])):where(
        .bg-neutral-0,
        [bg-neutral-0]
      )
  )
  + :where(section, [data-section]) {
  --f-pt-min: 36;
  --f-pt-max: 48;
}

/* Different backgrounds or section-gap - full spacing */
body:not(.nq-raw)
  :where(section, [data-section]):where(.bg-darkblue, [bg-darkblue], .bg-darkerblue, [bg-darkerblue]):has(
    + :where(section, [data-section]):where(
        .bg-neutral-100,
        .bg-neutral-0,
        [bg-neutral-100],
        [bg-neutral-0],
        .nq-section-gap,
        [nq-section-gap]
      )
  ),
body:not(.nq-raw)
  :where(section, [data-section]):where(.bg-neutral-0, [bg-neutral-0], .bg-neutral-100, [bg-neutral-100]):has(
    + :where(section, [data-section]):where(
        .bg-darkblue,
        [bg-darkblue],
        .bg-darkerblue,
        [bg-darkerblue],
        .nq-section-gap,
        [nq-section-gap]
      )
  ) {
  --f-pb-min: 160;
  --f-pb-max: 200;
}

/* Wallet showcase spacing tweak to match production */
@media screen and (min-width: 768px) {
  body:not(.nq-raw) :where(section, [data-section]).wallet-showcase {
    --f-pt-min: 96;
    --f-pt-max: 118.4;
  }
}
